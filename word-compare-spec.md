# 문서 비교 프로그램 기획서

## 1. 프로젝트 개요

### 1.1 목적
MS Word의 '검토 - 비교' 기능과 동일한 문서 비교 기능을 제공하는 독립형 프로그램 개발

### 1.2 주요 기능
- 2개의 Word 문서(.docx) 비교
- 차이점 시각화 및 하이라이팅
- 변경사항 상세 리스트 제공
- 다양한 비교 옵션 제공

---

## 2. 기능 명세

### 2.1 파일 업로드 기능

#### 2.1.1 파일 선택 방식
**방법 1: 탐색기를 통한 파일 선택**
- '원본 문서 선택' 버튼 클릭 → 파일 탐색기 오픈
- '수정 문서 선택' 버튼 클릭 → 파일 탐색기 오픈
- 지원 형식: .docx, .doc

**방법 2: 드래그 앤 드롭**
- 좌측 영역: 원본 문서 드롭 존
- 우측 영역: 수정 문서 드롭 존
- 드롭 존 시각적 피드백
  - 기본 상태: 점선 테두리, "파일을 드래그하세요" 안내 문구
  - 드래그 오버 시: 강조 표시 (배경색 변경)
  - 파일 업로드 완료: 파일명 및 아이콘 표시

#### 2.1.2 파일 검증
- 파일 형식 검증 (Word 파일만 허용)
- 파일 크기 제한 (예: 50MB)
- 손상된 파일 감지 및 오류 메시지

---

### 2.2 업로드된 파일 표시

#### 2.2.1 파일 리스트 UI
```
┌─────────────────────────────────────────────────────┐
│ 선택된 문서                                          │
├─────────────────────────────────────────────────────┤
│ 📄 원본 문서                                         │
│    파일명: 계약서_ver1.docx                          │
│    크기: 2.3MB                                       │
│    수정일: 2025-10-05                                │
│    [변경] [삭제]                                     │
├─────────────────────────────────────────────────────┤
│ 📄 수정 문서                                         │
│    파일명: 계약서_ver2.docx                          │
│    크기: 2.5MB                                       │
│    수정일: 2025-10-10                                │
│    [변경] [삭제]                                     │
└─────────────────────────────────────────────────────┘
```

#### 2.2.2 파일 관리 기능
- **변경 버튼**: 다른 파일로 교체
- **삭제 버튼**: 선택 취소
- **파일 정보**: 이름, 크기, 수정일, 페이지 수

---

### 2.3 비교 실행 기능

#### 2.3.1 비교 시작 버튼
- 위치: 파일 리스트 하단 중앙
- 활성화 조건: 2개의 파일이 모두 업로드된 경우
- 버튼 텍스트: "비교 시작"
- 로딩 상태 표시: 프로그레스 바 및 진행률 표시

#### 2.3.2 비교 처리 과정
1. 파일 읽기 및 파싱
2. 텍스트 추출
3. 차이점 분석 알고리즘 실행
4. 결과 생성 및 렌더링

---

### 2.4 비교 옵션 설정

#### 2.4.1 옵션 버튼 위치
- '비교 시작' 버튼 바로 아래
- '⚙️ 비교 옵션' 버튼 클릭 시 옵션 패널 확장

#### 2.4.2 MS Word 표준 옵션

**비교 설정**
- ☑️ 서식 (글꼴, 크기, 색상, 스타일)
- ☑️ 대/소문자 구분
- ☑️ 공백 (스페이스, 탭, 줄바꿈)
- ☑️ 표 (테이블 구조 및 내용)
- ☑️ 머리글/바닥글
- ☑️ 각주 및 미주
- ☑️ 필드
- ☑️ 텍스트 상자
- ☑️ 주석 및 변경 내용 추적

**표시 수준**
- ◉ 문자 수준 (기본값)
- ○ 단어 수준
- ○ 문장 수준
- ○ 단락 수준

**원본 표시 방법**
- ◉ 원본과 수정본 나란히 표시
- ○ 통합 문서로 표시
- ○ 수정본만 표시

---

### 2.5 비교 결과 표시

#### 2.5.1 3단 분할 뷰
```
┌──────────────┬──────────────┬──────────────┐
│  원본 문서   │  비교 결과   │  수정 문서   │
│              │              │              │
│  원본 내용   │  통합된 내용 │  수정 내용   │
│  표시        │  + 변경 표시 │  표시        │
│              │              │              │
└──────────────┴──────────────┴──────────────┘
```

#### 2.5.2 차이점 하이라이팅
**색상 코드**
- 🟢 **녹색**: 추가된 내용
- 🔴 **빨간색**: 삭제된 내용
- 🟡 **노란색**: 수정된 내용 (서식 변경)
- 🔵 **파란색**: 이동된 내용

**음영 처리 방식**
- 배경색 음영 + 밑줄/취소선
- 추가: 녹색 배경 + 밑줄
- 삭제: 빨간색 배경 + 취소선
- 수정: 노란색 배경 + 이중 밑줄

#### 2.5.3 인라인 비교 표시
- 문자/단어 단위로 정확한 위치 표시
- 툴팁으로 변경 세부 정보 제공
- 클릭 시 해당 위치로 자동 스크롤

---

### 2.6 차이점 목록 패널

#### 2.6.1 사이드 패널 구성
```
┌─────────────────────────────────────┐
│ 📋 변경사항 목록 (전체 47개)         │
├─────────────────────────────────────┤
│ 🔍 필터: [전체▼] [정렬: 위치▼]      │
├─────────────────────────────────────┤
│ ✅ 1. 추가 (1페이지, 3번째 단락)     │
│    "계약 기간은 2년으로 한다"        │
│    [이동] [수락] [거부]              │
├─────────────────────────────────────┤
│ ❌ 2. 삭제 (1페이지, 5번째 단락)     │
│    "단, 협의하에 연장할 수 있다"     │
│    [이동] [수락] [거부]              │
├─────────────────────────────────────┤
│ ⚠️ 3. 수정 (2페이지, 1번째 단락)     │
│    Before: "100만원"                 │
│    After: "150만원"                  │
│    [이동] [수락] [거부]              │
├─────────────────────────────────────┤
│ ...                                  │
└─────────────────────────────────────┘
```

#### 2.6.2 변경사항 분류
- **추가**: 새로 삽입된 텍스트/요소
- **삭제**: 제거된 텍스트/요소
- **수정**: 내용 변경
- **서식 변경**: 스타일/포맷 변경
- **이동**: 위치 변경

#### 2.6.3 필터 및 정렬 옵션
**필터**
- 전체 보기
- 추가만 보기
- 삭제만 보기
- 수정만 보기
- 서식 변경만 보기

**정렬**
- 문서 위치순 (기본값)
- 변경 유형별
- 변경 크기별
- 시간순 (가능한 경우)

#### 2.6.4 개별 항목 액션
- **이동 버튼**: 문서 내 해당 위치로 이동
- **수락 버튼**: 변경사항 승인
- **거부 버튼**: 변경사항 취소
- **세부정보**: 확장 시 더 많은 컨텍스트 표시

---

## 3. UI/UX 설계

### 3.1 전체 레이아웃
```
┌────────────────────────────────────────────────────┐
│ 🔍 문서 비교 프로그램               [설정] [도움말]│
├────────────────────────────────────────────────────┤
│                                                    │
│  ┌──────────────┐         ┌──────────────┐        │
│  │ 📁 원본 문서  │         │ 📁 수정 문서  │        │
│  │ 드롭 존      │         │ 드롭 존      │        │
│  └──────────────┘         └──────────────┘        │
│                                                    │
│  ┌──────────────────────────────────────────────┐ │
│  │ 선택된 파일 정보                              │ │
│  └──────────────────────────────────────────────┘ │
│                                                    │
│          [⚙️ 비교 옵션 ▼]                          │
│          [🔍 비교 시작]                            │
│                                                    │
├────────────────────────────────────────────────────┤
│ 비교 결과 영역 (3단 분할 뷰 또는 통합 뷰)          │
├────┬───────────────────────────────────────────────┤
│변경│                                               │
│목록│        문서 내용 및 차이점 표시                │
│    │                                               │
│패널│                                               │
└────┴───────────────────────────────────────────────┘
```

### 3.2 반응형 디자인
- 데스크톱: 3단 분할 뷰
- 태블릿: 2단 분할 뷰 (탭 전환)
- 모바일: 단일 뷰 (스와이프 전환)

### 3.3 접근성
- 키보드 단축키 지원
- 스크린 리더 호환
- 고대비 모드 지원
- 확대/축소 기능

---

## 4. 기술 스택 제안

### 4.1 프론트엔드
- **프레임워크**: React.js / Vue.js / Electron (데스크톱 앱)
- **UI 라이브러리**: Material-UI / Ant Design
- **파일 업로드**: react-dropzone
- **문서 렌더링**: mammoth.js (docx to HTML)

### 4.2 백엔드
- **서버**: Node.js (Express) / Python (FastAPI)
- **문서 파싱**: python-docx / docx4j
- **비교 알고리즘**: diff-match-patch / Myers diff algorithm

### 4.3 데이터베이스 (선택사항)
- 비교 이력 저장
- 사용자 설정 저장

---

## 5. 주요 알고리즘

### 5.1 문서 비교 알고리즘
1. **LCS (Longest Common Subsequence)**: 기본 텍스트 비교
2. **Myers Diff Algorithm**: 효율적인 차이점 계산
3. **Word-level Diff**: 단어 단위 정밀 비교
4. **Semantic Diff**: 의미론적 차이 감지

### 5.2 최적화 전략
- 큰 문서 처리를 위한 청크 단위 비교
- Web Worker를 통한 백그라운드 처리
- 가상 스크롤링으로 성능 향상

---

## 6. 추가 기능 (Phase 2)

### 6.1 내보내기 기능
- 비교 결과를 PDF로 내보내기
- 변경사항 요약 리포트 생성
- Excel 형식으로 차이점 목록 내보내기

### 6.2 협업 기능
- 여러 검토자 의견 추가
- 변경사항 승인 워크플로우
- 버전 히스토리 관리

### 6.3 고급 비교
- 3개 이상 문서 다중 비교
- 폴더 내 모든 문서 일괄 비교
- AI 기반 의미론적 차이 분석

---

## 7. 성능 목표

- 10MB 문서 비교 시간: 5초 이내
- 100페이지 문서 렌더링: 3초 이내
- 메모리 사용량: 500MB 이하
- 지원 최대 파일 크기: 50MB

---

## 8. 보안 고려사항

- 파일 업로드 시 악성코드 검사
- 클라이언트 측 처리로 문서 외부 유출 방지
- HTTPS 통신 (서버 사용 시)
- 임시 파일 자동 삭제

---

## 9. 개발 일정 (예상)

**Phase 1: 핵심 기능 (8주)**
- 1-2주: UI/UX 설계 및 프로토타입
- 3-4주: 파일 업로드 및 파싱 기능
- 5-6주: 비교 알고리즘 구현
- 7-8주: 결과 표시 및 차이점 목록

**Phase 2: 고도화 (4주)**
- 9-10주: 비교 옵션 구현
- 11-12주: 내보내기 및 추가 기능

**Phase 3: 테스트 및 배포 (2주)**
- 13주: QA 및 버그 수정
- 14주: 배포 및 문서화

---

## 10. 성공 지표

- 사용자 만족도: 4.5/5.0 이상
- 비교 정확도: 99% 이상
- 평균 처리 시간: 10초 이내
- 일일 활성 사용자: 목표치 달성
- 버그 발생률: 0.1% 이하